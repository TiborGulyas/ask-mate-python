<!DOCTYPE html>
<html>
{% if question_for_display %}
    <head>
        <meta charset='utf-8'>
        <title>Display Question</title>
        <link rel="stylesheet" type="text/css" href="../../static/style.css">
        <link rel="stylesheet" type="text/css" href="../static/buttons.css">
        <link href="https://fonts.googleapis.com/css?family=Merienda+One&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">
    </head>
    <body>
  {% if user == 'not logged in' %}
    <h3 id="user">{{ user }}</h3>
    <h3 id="login"><a href="/login">Login</a></h3>
    <h3 id="login"><a href="/register">Register</a></h3>
{% else %}
    <h3 id="user">Logged in as: {{ user }}</h3>
    <h3 id = 'login'><a href="/logout">Logout</a></h3>
{% endif %}
<a href="/" id="nodecoration"><h1>Questions</h1></a>
    <h1>Question Title: {{ question_for_display['title'] }}</h1>
    <table>
        <thead>
        <tr>
            {% for header_item in question_for_display %}
                {% if header_item != 'title' %}
                    <th>{{ header_item }}</th>
                {% endif %}
            {% endfor %}
        </tr>
        </thead>
        <tbody>
        <tr>
            {% for header_item in question_for_display %}
                {% if header_item== 'image' %}
                    {% if question_for_display['image'][-4:] == '.png' or question_for_display['image'][-4:] == '.jpg' or question_for_display['image'][-4:] == '.gif' or question_for_display['image'][-5:] == 'jpeg' %}
                        <td><a href="../../{{ question_for_display[header_item] }}"><img
                                src="../../{{ question_for_display[header_item] }}" height="150px" width="150px"></a>
                        </td>
                    {% else %}
                        <td><img src="{{ url_for('static', filename='img/no-image-available.png') }}" height="20px"
                                 width="20px"></td>
                    {% endif %}
                {% elif header_item != 'title' %}
                    <td>{{ question_for_display[header_item] }}</td>
                {% endif %}
            {% endfor %}
        </tr>
        </tbody>
    </table>
    {% if comment_type %}
        <h1>Edit new comment</h1>
        <table class="new_input_data">
            <form action='/comment/{{ comment_for_display['id'] }}/edit' method='post' enctype="multipart/form-data">
                <tr>
                    <td><p>
                        <label for="comment">Comment:</label><br>
                        <textarea name="comment" id="comment" cols="40"
                                  rows="6">{{ comment_for_display['message'] }}</textarea>
                    </p></td>
                </tr>
                <tr>
                    <td>
                        <p>
                            <button type="submit" class="button">Submit comment</button>
                        </p>
                    </td>
                </tr>
            </form>
        </table>
    {% else %}
        <h1>Add new comment</h1>
        <table class="new_input_data">
            <form action='/question/{{ question_for_display['id'] }}/new-comment' method='post'
                  enctype="multipart/form-data">
                <tr>
                    <td><p>
                        <label for="comment">Comment:</label><br>
                        <textarea name="comment" id="comment" cols="40" rows="6"></textarea>
                    </p></td>
                </tr>
                <tr>
                    <td>
                        <p>
                            <button type="submit" class="button">Submit comment</button>
                        </p>
                    </td>
                </tr>
            </form>
        </table>
    {% endif %}
    </body>
{% endif %}
{% if answer_for_display %}
    <head>
        <meta charset='utf-8'>
        <title>Display Answer</title>
        <link rel="stylesheet" type="text/css" href="../../static/style.css">
        <link href="https://fonts.googleapis.com/css?family=Merienda+One&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">
    </head>
    <body>
    <h1>Answer Title: {{ answer_for_display['title'] }}</h1>
    <table>
        <thead>
        <tr>
            {% for header_item in answer_for_display %}
                {% if header_item != 'title' %}
                    <th>{{ header_item }}</th>
                {% endif %}
            {% endfor %}
        </tr>
        </thead>
        <tbody>
        <tr>
            {% for header_item in answer_for_display %}
                {% if header_item== 'image' %}
                    {% if answer_for_display['image'][-4:] == '.png' or answer_for_display['image'][-4:] == '.jpg' or answer_for_display['image'][-4:] == '.gif' or answer_for_display['image'][-5:] == 'jpeg' %}
                        <td><a href="../../{{ answer_for_display[header_item] }}"><img
                                src="../../{{ answer_for_display[header_item] }}" height="150px" width="150px"></a></td>
                    {% else %}
                        <td><img src="{{ url_for('static', filename='img/no-image-available.png') }}" height="20px"
                                 width="20px"></td>
                    {% endif %}
                {% elif header_item != 'title' %}
                    <td>{{ answer_for_display[header_item] }}</td>
                {% endif %}
            {% endfor %}
        </tr>
        </tbody>
    </table>
    {% if comment_type %}
        <h1>Edit new comment</h1>
        <table class="new_input_data">
        <form action='/comment/{{ comment_for_display['id'] }}/edit' method='post' enctype="multipart/form-data">
            <tr><td><p>
                <label for="comment">Comment:</label><br>
                <textarea name="comment" id="comment" cols="40" rows="6">{{ comment_for_display['message'] }}</textarea>
            </p></td></tr>
            <tr><td><p>
                <button type="submit" class="button">Submit comment</button>
            </p></td></tr>
        </form>
        </table>
    {% else %}
        <h1>Add new comment</h1>
        <table class="new_input_data">
        <form action='/answer/{{ answer_for_display['id'] }}/new-comment' method='post' enctype="multipart/form-data">
            <tr><td><p>
                <label for="comment">Comment:</label><br>
                <textarea name="comment" id="comment" cols="40" rows="6"></textarea>
            </p></td></tr>
            <tr><td><p>
                <button type="submit" class="button">Submit comment</button>
            </p></td></tr>
        </form>
        </table>
    {% endif %}
    </body>
{% endif %}
</html>